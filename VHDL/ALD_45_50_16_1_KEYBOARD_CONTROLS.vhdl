-- VHDL for IBM SMS ALD page 45.50.16.1
-- Title: KEYBOARD CONTROLS
-- IBM Machine Name 1411
-- Generated by GenerateHDL at 11/4/2020 11:30:07 AM

-- Included from HDLTemplate.vhdl

library IEEE;
use IEEE.STD_LOGIC_1164.ALL;
use IEEE.NUMERIC_STD.ALL;  -- For use in test benches only
use WORK.ALL;

-- End of include from HDLTemplate.vhdl

entity ALD_45_50_16_1_KEYBOARD_CONTROLS is
	    Port (
		FPGA_CLK:		 in STD_LOGIC;
		MV_KEYBOARD_LOCK_MODE_STAR_NO:	 in STD_LOGIC;
		MS_ALTER_KEYBOARD_UNLOCK:	 in STD_LOGIC;
		MS_INQUIRY_KEYBOARD_UNLOCK:	 in STD_LOGIC;
		MS_ADDRESS_SET_UNLOCK:	 in STD_LOGIC;
		MV_KEYBOARD_UNLOCK_MODE:	 in STD_LOGIC;
		MS_CONS_BACK_SPACE_CONTROL:	 in STD_LOGIC;
		MS_CONS_WM_CONTROL:	 in STD_LOGIC;
		MS_CONS_FN_CONTROL:	 in STD_LOGIC;
		PS_CONS_CLOCK_4_POS:	 in STD_LOGIC;
		GROUND:	 in STD_LOGIC;
		MS_ALTER_INQUIRY_UNLOCK:	 out STD_LOGIC;
		MS_KEYBOARD_LOCK_SET:	 out STD_LOGIC;
		PS_ALTER_INQUIRY_UNLOCK:	 out STD_LOGIC;
		MS_KEYBOARD_UNLOCK_SET:	 out STD_LOGIC;
		PS_KEYBOARD_UNLOCK:	 out STD_LOGIC;
		MS_KEYBOARD_UNLOCK:	 out STD_LOGIC;
		PS_PRTR_LOCKED_CND_PROCEED:	 out STD_LOGIC);
end ALD_45_50_16_1_KEYBOARD_CONTROLS;

architecture behavioral of ALD_45_50_16_1_KEYBOARD_CONTROLS is 

	signal OUT_5A_X: STD_LOGIC;
	signal OUT_5B_D: STD_LOGIC;
	signal OUT_4B_B: STD_LOGIC;
	signal OUT_3B_G: STD_LOGIC;
	signal OUT_5C_B: STD_LOGIC;
	signal OUT_4C_X: STD_LOGIC;
	signal OUT_2C_D: STD_LOGIC;
	signal OUT_4D_1: STD_LOGIC;
	signal OUT_3D_H: STD_LOGIC;
	signal OUT_4E_3: STD_LOGIC;
	signal OUT_2E_B: STD_LOGIC;
	signal OUT_5F_G: STD_LOGIC;
	signal OUT_4F_C: STD_LOGIC;
	signal OUT_3F_K: STD_LOGIC;
	signal OUT_5G_K: STD_LOGIC;
	signal OUT_4G_P: STD_LOGIC;
	signal OUT_3G_G: STD_LOGIC;
	signal OUT_2H_F: STD_LOGIC;
	signal OUT_2H_B: STD_LOGIC;
	signal OUT_1H_D: STD_LOGIC;
	signal OUT_1I_C: STD_LOGIC;
	signal OUT_DOT_4D: STD_LOGIC;

begin

	OUT_5A_X <= MV_KEYBOARD_LOCK_MODE_STAR_NO;
	OUT_5B_D <= NOT(MS_ALTER_KEYBOARD_UNLOCK AND MS_INQUIRY_KEYBOARD_UNLOCK AND MS_ADDRESS_SET_UNLOCK );
	OUT_4B_B <= NOT(OUT_5C_B );
	OUT_3B_G <= NOT(OUT_4B_B AND OUT_1H_D );
	OUT_5C_B <= OUT_5B_D;
	OUT_4C_X <= MV_KEYBOARD_UNLOCK_MODE;
	OUT_2C_D <= NOT(OUT_5C_B AND OUT_1I_C AND OUT_3D_H );
	OUT_4D_1 <= NOT(OUT_5C_B AND MS_CONS_BACK_SPACE_CONTROL );
	OUT_3D_H <= NOT OUT_DOT_4D;
	OUT_4E_3 <= NOT(MS_CONS_WM_CONTROL AND MS_CONS_FN_CONTROL );
	OUT_2E_B <= NOT OUT_3D_H;
	OUT_5F_G <= NOT(OUT_5A_X );
	OUT_4F_C <= NOT(OUT_4C_X AND OUT_5F_G );
	OUT_3F_K <= NOT(OUT_4F_C );
	OUT_5G_K <= NOT(OUT_4C_X );
	OUT_4G_P <= NOT(OUT_5A_X AND OUT_5G_K );
	OUT_3G_G <= NOT(OUT_4G_P );

	SMS_DEY_2H: entity SMS_DEY
	    port map (
		FPGA_CLK => FPGA_CLK,
		GATEON => OUT_3F_K,	-- Pin K
		ACSET => PS_CONS_CLOCK_4_POS,	-- Pin H
		GATEOFF => OUT_3G_G,	-- Pin E
		ACRESET => PS_CONS_CLOCK_4_POS,	-- Pin A
		OUTON => OUT_2H_F,
		OUTOFF => OUT_2H_B,
		GROUND => OPEN,
		DCSFORCE => OPEN,
		DCRESET => OPEN,
		DCRFORCE => OPEN );

	OUT_1H_D <= NOT OUT_2H_F;
	OUT_1I_C <= NOT OUT_2H_B;
	OUT_DOT_4D <= OUT_4D_1 OR OUT_4E_3;

	MS_ALTER_INQUIRY_UNLOCK <= OUT_4B_B;
	MS_KEYBOARD_LOCK_SET <= OUT_3B_G;
	PS_ALTER_INQUIRY_UNLOCK <= OUT_5C_B;
	MS_KEYBOARD_UNLOCK_SET <= OUT_2C_D;
	PS_KEYBOARD_UNLOCK <= OUT_3D_H;
	MS_KEYBOARD_UNLOCK <= OUT_2E_B;
	PS_PRTR_LOCKED_CND_PROCEED <= OUT_1I_C;


end;
