-- VHDL for IBM SMS ALD page 45.50.08.1
-- Title: CONSOLE PRINTER NOT BUSY LATCH
-- IBM Machine Name 1411
-- Generated by GenerateHDL at 11/2/2020 5:24:07 PM

-- Included from HDLTemplate.vhdl

library IEEE;
use IEEE.STD_LOGIC_1164.ALL;
use IEEE.NUMERIC_STD.ALL;  -- For use in test benches only
use WORK.ALL;

-- End of include from HDLTemplate.vhdl

entity ALD_45_50_08_1_CONSOLE_PRINTER_NOT_BUSY_LATCH is
	    Port (
		FPGA_CLK:		 in STD_LOGIC;
		MS_RESET_CONS_PRTR_NOT_BUSY:	 in STD_LOGIC;
		MS_KEYBOARD_UNLOCK_SET:	 in STD_LOGIC;
		MS_PROGRAM_RESET_4:	 in STD_LOGIC;
		MS_KEYBOARD_LOCK_SET:	 in STD_LOGIC;
		PS_CONS_CYCLE_LATCH_SET:	 in STD_LOGIC;
		MS_CONS_PRINTER_LAST_COLUMN:	 in STD_LOGIC;
		MS_CONS_FN_CONTROL:	 in STD_LOGIC;
		MS_CONS_BACK_SPACE_CONTROL:	 in STD_LOGIC;
		PS_CONS_CHAR_CONTROL:	 in STD_LOGIC;
		MS_KEYBOARD_UNLOCK:	 in STD_LOGIC;
		MS_CONSOLE_OUTPUT_ERROR:	 in STD_LOGIC;
		PS_CONS_ERROR_CONTROL:	 in STD_LOGIC;
		PS_CONS_PRINTER_NOT_BUSY:	 out STD_LOGIC;
		MS_CONS_PRINTER_NOT_BUSY:	 out STD_LOGIC;
		PS_CONS_PRTR_NOT_BUSY_SET:	 out STD_LOGIC);
end ALD_45_50_08_1_CONSOLE_PRINTER_NOT_BUSY_LATCH;

architecture behavioral of ALD_45_50_08_1_CONSOLE_PRINTER_NOT_BUSY_LATCH is 

	signal OUT_3B_C: STD_LOGIC;
	signal OUT_3B_C_Latch: STD_LOGIC;
	signal OUT_2B_P: STD_LOGIC;
	signal OUT_2B_P_Latch: STD_LOGIC;
	signal OUT_1B_Q: STD_LOGIC;
	signal OUT_2C_D: STD_LOGIC;
	signal OUT_3D_NoPin: STD_LOGIC;
	signal OUT_5E_P: STD_LOGIC;
	signal OUT_4E_E: STD_LOGIC;
	signal OUT_5F_K: STD_LOGIC;
	signal OUT_5G_D: STD_LOGIC;
	signal OUT_DOT_5E: STD_LOGIC;
	signal OUT_DOT_2B: STD_LOGIC;
	
	signal OUT_FIX: STD_LOGIC;

begin

	OUT_3B_C_Latch <= NOT(OUT_DOT_2B AND MS_RESET_CONS_PRTR_NOT_BUSY AND MS_KEYBOARD_UNLOCK_SET );
	OUT_2B_P_Latch <= NOT(OUT_3B_C AND MS_PROGRAM_RESET_4 );
	OUT_1B_Q <= OUT_DOT_2B;
	OUT_2C_D <= NOT(MS_KEYBOARD_LOCK_SET AND OUT_3D_NoPin );
	OUT_3D_NoPin <= NOT(PS_CONS_CYCLE_LATCH_SET AND MS_CONS_PRINTER_LAST_COLUMN AND OUT_4E_E );
	OUT_5E_P <= NOT(MS_CONS_BACK_SPACE_CONTROL AND PS_CONS_CHAR_CONTROL );
	OUT_4E_E <= NOT(MS_CONS_FN_CONTROL AND OUT_DOT_5E AND OUT_5G_D );
	OUT_5F_K <= NOT(MS_KEYBOARD_UNLOCK AND MS_CONSOLE_OUTPUT_ERROR );
	OUT_5G_D <= NOT(MS_CONS_BACK_SPACE_CONTROL AND MS_CONSOLE_OUTPUT_ERROR AND PS_CONS_ERROR_CONTROL );
	OUT_DOT_5E <= OUT_5E_P OR OUT_5F_K;
	OUT_DOT_2B <= OUT_2B_P OR OUT_2C_D;

	MS_CONS_PRINTER_NOT_BUSY <= OUT_3B_C;
	PS_CONS_PRINTER_NOT_BUSY <= OUT_FIX; -- OUT_1B_Q;
	PS_CONS_PRTR_NOT_BUSY_SET <= OUT_4E_E;

	Latch_3B: entity DFlipFlop port map (
		C => FPGA_CLK,
		D => OUT_3B_C_Latch,
		Q => OUT_3B_C,
		QBar => OPEN );

	Latch_2B: entity DFlipFlop port map (
		C => FPGA_CLK,
		D => OUT_2B_P_Latch,
		Q => OUT_2B_P,
		QBar => OPEN );

   -- Added to break combinatorial loop 11/21/2020

	Latch_FIX: entity DFlipFlop port map (
		C => FPGA_CLK,
		D => OUT_1B_Q,
		Q => OUT_FIX,
		QBar => OPEN );


end;
