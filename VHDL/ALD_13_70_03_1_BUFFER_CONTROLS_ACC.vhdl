-- VHDL for IBM SMS ALD page 13.70.03.1
-- Title: BUFFER CONTROLS-ACC
-- IBM Machine Name 1411
-- Generated by GenerateHDL at 8/11/2020 4:26:54 PM

-- Included from HDLTemplate.vhdl

library IEEE;
use IEEE.STD_LOGIC_1164.ALL;
use WORK.ALL;

-- End of include from HDLTemplate.vhdl

entity ALD_13_70_03_1_BUFFER_CONTROLS_ACC is
	    Port (
		FPGA_CLK:		 in STD_LOGIC;
		PS_OP_REG_4_BIT:	 in STD_LOGIC;
		PS_1401_PUNCH_TRIGGER:	 in STD_LOGIC;
		PS_OP_REG_1_BIT:	 in STD_LOGIC;
		PS_1401_READ_TRIGGER:	 in STD_LOGIC;
		MS_1401_I_O_RING_ADVANCE:	 in STD_LOGIC;
		PS_OP_REG_2_BIT:	 in STD_LOGIC;
		PS_1401_PRINT_TRIGGER:	 in STD_LOGIC;
		MS_E_CH_IN_PROCESS:	 in STD_LOGIC;
		PS_1ST_CLOCK_PULSE_CLAMPED:	 in STD_LOGIC;
		MS_PROGRAM_RESET_2:	 in STD_LOGIC;
		MS_E_CH_BUSY_BUS:	 in STD_LOGIC;
		MS_LOGIC_GATE_D_1:	 in STD_LOGIC;
		PS_E_CH_CONDITION:	 in STD_LOGIC;
		PS_1401_I_O_CK_STOP_SW:	 in STD_LOGIC;
		PS_E_CH_SECOND_SAMPLE_B:	 in STD_LOGIC;
		PS_1ST_CLOCK_PULSE_1:	 in STD_LOGIC;
		PS_E_CH_CHECK:	 in STD_LOGIC;
		PS_1401_CARD_PRINT_IN_PROC:	 in STD_LOGIC;
		MS_1401_PUNCH:	 out STD_LOGIC;
		MS_1401_READ:	 out STD_LOGIC;
		MS_1401_PRINT:	 out STD_LOGIC;
		MS_1401_CARD_PR_ERR_SAMPLE:	 out STD_LOGIC;
		PS_1401_CARD_PR_ERR_SAMPLE:	 out STD_LOGIC;
		MS_1ST_I_O_CYCLE_CONTROL:	 out STD_LOGIC;
		PS_1ST_I_O_CYCLE_CONTROL:	 out STD_LOGIC;
		MS_1401_PUNCH_PRINT_ERROR:	 out STD_LOGIC;
		MS_1401_CARD_PRINT_ERROR:	 out STD_LOGIC;
		MS_NOT_1401_CARD_OR_PRTR_MODE:	 out STD_LOGIC);
end ALD_13_70_03_1_BUFFER_CONTROLS_ACC;

architecture behavioral of ALD_13_70_03_1_BUFFER_CONTROLS_ACC is 

	signal OUT_5A_G: STD_LOGIC;
	signal OUT_4A_L: STD_LOGIC;
	signal OUT_3A_G: STD_LOGIC;
	signal OUT_2A_F: STD_LOGIC;
	signal OUT_2A_B: STD_LOGIC;
	signal OUT_1A_D: STD_LOGIC;
	signal OUT_5B_G: STD_LOGIC;
	signal OUT_4B_B: STD_LOGIC;
	signal OUT_3B_G: STD_LOGIC;
	signal OUT_1B_C: STD_LOGIC;
	signal OUT_5C_G: STD_LOGIC;
	signal OUT_4C_A: STD_LOGIC;
	signal OUT_2C_C: STD_LOGIC;
	signal OUT_5D_F: STD_LOGIC;
	signal OUT_5D_B: STD_LOGIC;
	signal OUT_4D_D: STD_LOGIC;
	signal OUT_4E_C: STD_LOGIC;
	signal OUT_2E_H: STD_LOGIC;
	signal OUT_2E_E: STD_LOGIC;
	signal OUT_1E_F: STD_LOGIC;
	signal OUT_5F_P: STD_LOGIC;
	signal OUT_4F_D: STD_LOGIC;
	signal OUT_1F_R: STD_LOGIC;
	signal OUT_4G_G: STD_LOGIC;
	signal OUT_2G_E: STD_LOGIC;
	signal OUT_4H_K: STD_LOGIC;
	signal OUT_4I_P: STD_LOGIC;
	signal OUT_2I_F: STD_LOGIC;
	signal OUT_DOT_2I: STD_LOGIC;
	signal OUT_DOT_4H: STD_LOGIC;

begin

	OUT_5A_G <= NOT(PS_OP_REG_4_BIT AND PS_1401_PUNCH_TRIGGER );
	OUT_4A_L <= OUT_5A_G;
	OUT_3A_G <= NOT(OUT_4A_L AND OUT_4C_A AND OUT_4B_B );

	SMS_DEY_2A: entity SMS_DEY
	    port map (
		FPGA_CLK => FPGA_CLK,
		GATEON => OUT_3A_G,	-- Pin K
		ACSET => PS_1ST_CLOCK_PULSE_CLAMPED,	-- Pin H
		DCRESET => MS_PROGRAM_RESET_2,	-- Pin P
		GATEOFF => '0',	-- Pin E
		DCRFORCE => OUT_2C_C,	-- Pin T
		OUTON => OUT_2A_F,
		OUTOFF => OUT_2A_B,
		ACRESET => OPEN,
		GROUND => OPEN,
		DCSFORCE => OPEN );

	OUT_1A_D <= NOT OUT_2A_F;
	OUT_5B_G <= NOT(PS_OP_REG_1_BIT AND PS_1401_READ_TRIGGER );
	OUT_4B_B <= OUT_5B_G;
	OUT_3B_G <= NOT(OUT_4A_L AND OUT_4B_B AND OUT_4C_A );
	OUT_1B_C <= NOT OUT_2A_B;
	OUT_5C_G <= NOT(PS_OP_REG_2_BIT AND PS_1401_PRINT_TRIGGER );
	OUT_4C_A <= OUT_5C_G;
	OUT_2C_C <= NOT(MS_1401_I_O_RING_ADVANCE AND OUT_4D_D AND MS_E_CH_IN_PROCESS );

	SMS_DEY_5D: entity SMS_DEY
	    port map (
		FPGA_CLK => FPGA_CLK,
		GATEON => OUT_1B_C,	-- Pin K
		ACSET => PS_1ST_CLOCK_PULSE_CLAMPED,	-- Pin H
		DCRESET => MS_PROGRAM_RESET_2,	-- Pin P
		DCRFORCE => OUT_4F_D,	-- Pin T
		OUTON => OUT_5D_F,
		OUTOFF => OUT_5D_B,
		ACRESET => OPEN,
		GATEOFF => OPEN,
		GROUND => OPEN,
		DCSFORCE => OPEN );

	OUT_4D_D <= NOT OUT_5D_F;
	OUT_4E_C <= NOT OUT_5D_B;

	SMS_DEZ_2E: entity SMS_DEZ
	    port map (
		FPGA_CLK => FPGA_CLK,
		GATEON => OUT_4E_C,	-- Pin A
		ACSET => PS_1ST_CLOCK_PULSE_CLAMPED,	-- Pin G
		DCRESET => MS_PROGRAM_RESET_2,	-- Pin B
		GATEOFF => '0',	-- Pin F
		DCRFORCE => OUT_2G_E,	-- Pin W
		OUTON => OUT_2E_H,
		OUTOFF => OUT_2E_E );

	OUT_1E_F <= NOT OUT_2E_H;

	SingleShot_5F: entity SingleShot
	    generic map(PULSETIME => 6000, CLOCKPERIOD => 10)
	    port map (
		FPGA_CLK => FPGA_CLK,
		IN3 => OUT_1A_D,	-- Pin L
		OUT1 => OUT_5F_P,
		IN1 => OPEN,
		IN2 => OPEN );

	OUT_4F_D <= NOT(OUT_1E_F AND OUT_5F_P AND MS_E_CH_BUSY_BUS );
	OUT_1F_R <= NOT OUT_2E_E;
	OUT_4G_G <= NOT(OUT_4E_C AND PS_E_CH_CONDITION AND PS_1401_I_O_CK_STOP_SW );
	OUT_2G_E <= NOT(OUT_4G_G AND MS_LOGIC_GATE_D_1 );
	OUT_4H_K <= NOT(PS_1401_I_O_CK_STOP_SW AND PS_E_CH_SECOND_SAMPLE_B );
	OUT_4I_P <= NOT(PS_E_CH_CHECK AND PS_1401_CARD_PRINT_IN_PROC );
	OUT_2I_F <= NOT PS_1ST_CLOCK_PULSE_1;
	OUT_DOT_2I <= OUT_3B_G OR OUT_2I_F;
	OUT_DOT_4H <= OUT_4H_K OR OUT_4I_P;

	MS_1401_PUNCH <= OUT_4A_L;
	MS_1401_READ <= OUT_4B_B;
	MS_1401_PRINT <= OUT_4C_A;
	MS_1401_CARD_PR_ERR_SAMPLE <= OUT_4D_D;
	PS_1401_CARD_PR_ERR_SAMPLE <= OUT_4E_C;
	MS_1ST_I_O_CYCLE_CONTROL <= OUT_1E_F;
	PS_1ST_I_O_CYCLE_CONTROL <= OUT_1F_R;
	MS_1401_PUNCH_PRINT_ERROR <= OUT_4G_G;
	MS_NOT_1401_CARD_OR_PRTR_MODE <= OUT_DOT_2I;
	MS_1401_CARD_PRINT_ERROR <= OUT_DOT_4H;


end;
